<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>æ—…éŠå°åŠ©æ‰‹ Â· æ«»èŠ±ç‰ˆ</title>

    <!-- Tailwind CSS Play CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- è‡ªè¨‚æ«»èŠ±ä¸»é¡Œ -->
    <style type="text/tailwindcss">
      @theme {
        --color-sakura-light: #ffe4ec;
        --color-sakura: #f9b5d0;
        --color-sakura-deep: #e58aaa;
        --color-ink: #2b2b3c;
        --color-paper: #fffaf5;
      }
      body {
        @apply bg-[color:var(--color-paper)];
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Noto Sans TC",
          "PingFang TC", "Microsoft JhengHei", sans-serif;
      }
      .sakura-bg {
        background: radial-gradient(circle at top left, #ffe4ec 0, #fffaf5 45%, #ffffff 100%);
      }
      .tab-active {
        @apply text-[color:var(--color-ink)] border-b-2 border-[color:var(--color-sakura-deep)] font-semibold;
      }
      .tab-inactive {
        @apply text-gray-400;
      }
    </style>

    <!-- Vue 3ï¼ˆESM ç‰ˆï¼‰ -->
    <script type="importmap">
      {
        "imports": {
          "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
        }
      }
    </script>
  </head>
  <body class="sakura-bg min-h-screen flex items-center justify-center">
    <div id="app" class="w-full max-w-sm mx-auto">
      <!-- æ‰‹æ©Ÿæ®¼ -->
      <div
        class="rounded-[2.5rem] shadow-xl border border-white/70 bg-white/70 backdrop-blur-xl overflow-hidden relative"
      >
        <!-- å‡ status bar -->
        <div
          class="h-10 flex items-center justify-between px-5 text-[11px] text-gray-500 bg-gradient-to-r from-[color:var(--color-sakura-light)]/80 to-white/80"
        >
          <span>{{ today }}</span>
          <span class="tracking-widest">æ—…éŠå°åŠ©æ‰‹</span>
          <span>100%</span>
        </div>

        <!-- App é ‚éƒ¨ -->
        <div class="px-5 pt-4 pb-3 border-b border-[color:var(--color-sakura-light)]/80">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs text-gray-500">æ—…ç¨‹åç¨±</p>
              <h1 class="text-lg font-semibold text-[color:var(--color-ink)]">
                {{ tripName || "æ˜¥æ—¥äº¬éƒ½å°æ—…è¡Œ" }}
              </h1>
            </div>
            <button
              class="px-3 py-1 rounded-full text-xs bg-[color:var(--color-sakura-light)] text-[color:var(--color-ink)] shadow-sm"
              @click="resetAll"
            >
              é‡è¨­
            </button>
          </div>
          <p class="mt-1 text-[11px] text-gray-500">
            {{ dateRange || "2025/04/01 - 2025/04/04" }}
          </p>
        </div>

        <!-- Tabs -->
        <div class="px-4 pt-2">
          <div class="flex justify-around text-xs">
            <button
              class="pb-2 flex flex-col items-center gap-1"
              :class="currentTab === 'plan' ? 'tab-active' : 'tab-inactive'"
              @click="currentTab = 'plan'"
            >
              <span class="text-base">ğŸ—“ï¸</span>
              <span>è¡Œç¨‹è¡¨</span>
            </button>
            <button
              class="pb-2 flex flex-col items-center gap-1"
              :class="currentTab === 'map' ? 'tab-active' : 'tab-inactive'"
              @click="currentTab = 'map'"
            >
              <span class="text-base">ğŸ—ºï¸</span>
              <span>åœ°åœ–</span>
            </button>
            <button
              class="pb-2 flex flex-col items-center gap-1"
              :class="currentTab === 'expense' ? 'tab-active' : 'tab-inactive'"
              @click="currentTab = 'expense'"
            >
              <span class="text-base">ğŸ’´</span>
              <span>è¨˜å¸³</span>
            </button>
            <button
              class="pb-2 flex flex-col items-center gap-1"
              :class="currentTab === 'shopping' ? 'tab-active' : 'tab-inactive'"
              @click="currentTab = 'shopping'"
            >
              <span class="text-base">ğŸ›ï¸</span>
              <span>è³¼ç‰©æ¸…å–®</span>
            </button>
          </div>
        </div>

        <!-- å…§å®¹å€ -->
        <div class="px-4 pb-5 pt-1 max-h-[540px] overflow-y-auto">
          <!-- è¡Œç¨‹è¡¨ Tab -->
          <div v-if="currentTab === 'plan'" class="space-y-3">
            <!-- ç°¡æ˜“æ—…ç¨‹è³‡æ–™ -->
            <div
              class="mt-2 p-3 rounded-2xl bg-[color:var(--color-sakura-light)]/40 border border-[color:var(--color-sakura-light)]/70"
            >
              <label class="block text-[11px] text-gray-500 mb-1">æ—…ç¨‹
